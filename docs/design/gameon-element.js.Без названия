/*----------------------------------------------
*
* [Main Scripts]
*
* Theme    : Gameon Element
* Version  : 1.0
* Author   : Themeland
* Support  : hridoy1272@gmail.com
* 
----------------------------------------------*/

/*----------------------------------------------

[ALL CONTENTS]

1. Progress Bar
2. Interactive
3. Shuffle

----------------------------------------------*/

/*----------------------------------------------
1. Progress Bar
----------------------------------------------*/

(function ($) {

    'use strict';

	const progressBars = document.querySelectorAll('.progress-bar');

	function showProgress() {
		progressBars.forEach(progressBar => {
			const value = progressBar.dataset.progress;
			progressBar.style.opacity = 1;
			progressBar.style.width = `${value}%`;
		});
	}

	$(document).ready(function () {
        const skillsSection = document.getElementById('skills');

        if (skillsSection) {
            $(window).on('scroll', function () {
                const sectionPos = skillsSection.getBoundingClientRect().top;
                const screenPos = window.innerHeight;

                if (sectionPos < screenPos) {
                    showProgress();
                }
            });
        }
    });

}(jQuery));

/*----------------------------------------------
2. Interactive
----------------------------------------------*/

(function ($) {
    'use strict';

    var moving = $('.interactive');

    if (moving.length) {

        if (!$('.interactive-link').length) {
            $('body').append('<div class="interactive-link">');
        }

        var move = $('.interactive-link');
        var list = $('.interactive .item');

        list.on('mouseenter', function (event) {
            var element = $(this);

            if (!element.hasClass('active')) {
                list.removeClass('active');
                element.addClass('active');
                move.addClass('active');
                var containerContent = element.find('.portfolio-content').html();
                move.html(containerContent);
                move.css({ left: (event.clientX + 15) + 'px', top: (event.clientY + 15) + 'px' });
            }

        }).on('mouseleave', function () {
            list.removeClass('active');
            move.removeClass('active');
            move.empty();
        }).on('mousemove', function (event) {
            move.css({ left: (event.clientX + 15) + 'px', top: (event.clientY + 15) + 'px' });
        });
    }
}(jQuery));

/*----------------------------------------------
3. Shuffle
----------------------------------------------*/
(function ($) {

    'use strict';

    if ( $('.filter-items').length ) {

        $('.portfolio-filter').each(function(index) {

            var count = index + 1;
    
            $(this).find('.filter-items').removeClass('filter-items').addClass('filter-items-'+count);
            $(this).find('.filter-item').removeClass('filter-item').addClass('filter-item-'+count);
            $(this).find('.filter-btn').removeClass('filter-btn').addClass('filter-btn-'+count);
            
            var Shuffle = window.Shuffle;
            var Filter  = new Shuffle(document.querySelector('.filter-items-'+count), {
                itemSelector: '.filter-item-'+count,
                buffer: 1,
            })
    
            $('.filter-btn-'+count).on('change', function (e) {
    
                var input = e.currentTarget;
                
                if (input.checked) {
                    Filter.filter(input.value);
                }
            })
        });

    }

}(jQuery));

/*----------------------------------------------
4. Load More
----------------------------------------------*/
(function ($) {

	'use strict';

	$(".load-more .item").slice(0, 4).show();
	$(".blog-area.load-more .item").slice(0, 6).show();

	$("#load-btn").on('click', function (e) {

		e.preventDefault();

		$(".load-more .item:hidden").slice(0, 4).slideDown();
		$(".blog-area.load-more .item:hidden").slice(0, 6).slideDown();

		if ($(".load-more .item:hidden").length == 0) {
			$("#load-btn").fadeOut('slow');
		}

	});
}(jQuery));